##### Задача 1
*Есть регистр Продажи. Измерение - Клиент, Товар. Ресурсы - Количество
Запросом получить всех клиентов, кто купил товар А, но не купил товар B*

```SQL
&НаСервере
Процедура ПолучитьНаСервере()   
	КупленныйТовар = Отчет.КупленныйТовар;
	ИсключающийТовар = Отчет.ИсключающийТовар;
	
	ЗапросДанных = Новый Запрос;
	ТекстЗапроса = "ВЫБРАТЬ Продажи.Клиент КАК Клиенты
				| ИЗ
				| РегистрСведений.Продажи КАК Продажи
				| ГДЕ
				| (Продажи.Товар = &КупленныйТовар)
				| И 
				| (Продажи.Клиент НЕ В(
				| ВЫБРАТЬ Продажи.Клиент 
				| ИЗ
				| РегистрСведений.Продажи КАК Продажи
				| ГДЕ
				| Продажи.Товар = &ИсключающийТовар))";
	ЗапросДанных.Текст = ТекстЗапроса;
	ЗапросДанных.УстановитьПараметр("КупленныйТовар", КупленныйТовар);
	ЗапросДанных.УстановитьПараметр("ИсключающийТовар", ИсключающийТовар);
	ПолученныеДанные = ЗапросДанных.Выполнить().Выгрузить(); 
	
	Для Каждого Элемент Из ПолученныеДанные Цикл
		Строка = Отчет.Клиент.Добавить();
		Строка.Покупатель = Элемент.Клиенты;
	КонецЦикла;
			
КонецПроцедуры

```

Результат:

![1_Запрос](https://user-images.githubusercontent.com/36735568/190198246-ecff6ad6-c239-4a0b-9536-61197803af26.png)

Список продаж:

![1_Продажи](https://user-images.githubusercontent.com/36735568/190198353-b26394a7-293d-4e70-adf2-c897ae77ea3c.png)





##### Задача 2
*Есть таблица значений с полями Контрагент и Сумма. Напишите процедуру, которая удалит из таблицы все строки, с суммой меньше 100 рублей*

```js
Функция СоздатьТаблицу()
	Таблица = Новый ТаблицаЗначений();
	Таблица.Колонки.Добавить("Контрагент");
	Таблица.Колонки.Добавить("Сумма", Новый ОписаниеТипов("Число", Новый КвалификаторыЧисла(10, 2)));   
	
	ГСЧ = Новый ГенераторСлучайныхЧисел();
	Для Число = 1 по 100 цикл
		Строка = Таблица.Добавить();
		Строка.Контрагент = Символ(ГСЧ.СлучайноеЧисло(65,90))+Символ(ГСЧ.СлучайноеЧисло(65,90))+Символ(ГСЧ.СлучайноеЧисло(65,90));
		Строка.Сумма = ГСЧ.СлучайноеЧисло(1,1000);
	КонецЦикла;
	Возврат Таблица;
КонецФункции


Процедура ИзменитьТаблицу()   
	
	Таблица = СоздатьТаблицу(); 
	
	Построитель = Новый ПостроительЗапроса();
	Построитель.ИсточникДанных = Новый ОписаниеИсточникаДанных(Таблица);
	
	Отбор = Построитель.Отбор.Добавить("Сумма");
	Отбор.ВидСравнения = ВидСравнения.БольшеИлиРавно;
	Отбор.Значение = 100;
	Отбор.Использование = Истина;
	
	Построитель.Выполнить();
	НоваяТаблица = Построитель.Результат.Выгрузить();
			
КонецПроцедуры

```





##### Задача 3
*В конфигурации есть регистр сведений Производственный календарь. Измерение - Дата, ресурс - Рабочий день(булево), Истина - если день рабочий, иначе  - Ложь
Реализовать функцию, которая прибавляет X рабочих Дней к исходной дате.*

```js

&НаСервере
Функция ДобавитьДнейНаСервере()
	Дата = Отчет.ИсходнаяДата;
	РабочихДней = Отчет.КоличествоДней;
	ЧислоЦикла = 0; 
	Пока ЧислоЦикла < РабочихДней Цикл
		РабочийДень = РегистрыСведений.ПроизводственныйКалендарь.Получить(Новый Структура("Дата", Дата)).РабочийДень;
		Если РабочийДень Тогда
			ЧислоЦикла = ЧислоЦикла+1;
		КонецЕсли; 
		Дата = КонецДня(Дата) + 86400;
	КонецЦикла;
	
	Возврат Дата;
		
КонецФункции

```
Результат:

![3proc](https://user-images.githubusercontent.com/36735568/190375524-22b38df9-8880-46d0-8e99-9ac49ef7e358.png)

Календарь:

![3calend](https://user-images.githubusercontent.com/36735568/190375591-df3fc9d9-ed13-4851-a24d-7858b44d272b.png)





##### Задача 4.
*Напишете текст запроса (одним запросом) для получения курса валюты из периодического (периодичность день) регистра сведений «Курсы валют» для документов «Поступление» на дату каждого документа.
Регистр сведений «Курсы валют»:*

```SQL
&НаСервере
Процедура ЗапросНаСервере()
	ЗапросДанных = Новый Запрос;
	ТекстЗапроса = "ВЫБРАТЬ
				| Поступление.Номер КАК ДокументПоступления,
				| Поступление.Валюта КАК Валюта,
				| Поступление.Дата КАК ДатаДокумента,
				| КурсыВалют.Курс КАК КурсВалютыНаДатуДокумента
				| ИЗ
				| Документ.Поступление КАК Поступление
				| ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КурсыВалют КАК КурсыВалют 
				| ПО Поступление.Валюта = КурсыВалют.Валюта
				| И НАЧАЛОПЕРИОДА(Поступление.Дата, ДЕНЬ) = КурсыВалют.Период ";
				
	ЗапросДанных.Текст = ТекстЗапроса;
	ПолученныеДанные = ЗапросДанных.Выполнить().Выгрузить();
	
	Для Каждого Элемент Из ПолученныеДанные Цикл
		Строка = Отчет.ТабличнаяЧасть1.Добавить();
		Строка.ДокументПоступления = Элемент.ДокументПоступления;
		Строка.Валюта = Элемент.Валюта;
		Строка.ДатаДокумента = Элемент.ДатаДокумента;
		Строка.КурсВалютыНаДатуДокумента = Элемент.КурсВалютыНаДатуДокумента;
	КонецЦикла;	
	
КонецПроцедуры

```
Результат:

![4res](https://user-images.githubusercontent.com/36735568/190412223-298b513a-a7d9-44ae-ba98-7c713c6ab967.png)

Курс:

![4course](https://user-images.githubusercontent.com/36735568/190412291-d742ca0e-d28c-4bd7-8621-540dd9baa78c.png)

Поступления:

![4pos](https://user-images.githubusercontent.com/36735568/190412352-f37dd93d-f43f-4bee-90f7-3bf56745f356.png)
